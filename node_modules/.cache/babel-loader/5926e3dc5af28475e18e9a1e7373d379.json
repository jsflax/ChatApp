{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/jasonflax/Development/ChatApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"/Users/jasonflax/Development/ChatApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jasonflax/Development/ChatApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/jasonflax/Development/ChatApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/jasonflax/Development/ChatApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jasonflax/Development/ChatApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"/Users/jasonflax/Development/ChatApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jasonflax/Development/ChatApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jasonflax/Development/ChatApp/src/components/ChatMessage.js\";\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n          margin-left: \", \";\\n          margin-right: \", \";\\n          font-size: 12px;\\n          font-style: italic;\\n          padding-bottom: 4px;\\n        \"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n        display: flex;\\n        flex-direction: row;\\n      \"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  background-color: \", \";\\n  border-radius: 12px;\\n  margin-left: \", \";\\n  margin-right: \", \";\\n  border-top-left-radius: \", \";\\n  border-top-right-radius: \", \";\\n  border-bottom-left-radius: \", \";\\n  border-bottom-right-radius: \", \";\\n  padding: 10px;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  margin-right: 10px;\\n  font-size: 12px;\\n  margin-left: \", \";\\n  margin-right: \", \";\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 100%;\\n  display: flex;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 50px;\\n  display: flex;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: 6px 12px;\\n  margin-top: \", \";\\n  margin-bottom: \", \";\\n  background-color: white;\\n  display: flex;\\n  flex-direction: column;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n                white-space: pre-wrap;\\n              \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/** @jsx jsx */\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { css, jsx } from \"@emotion/core\";\nimport styled from \"@emotion/styled\";\nimport format from \"date-fns/format\";\nimport { usersObserver } from \"../models\";\n\nvar ChatMessage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ChatMessage, _React$Component);\n\n  _createClass(ChatMessage, [{\n    key: \"observeUser\",\n    value: function () {\n      var _observeUser = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return usersObserver.sync(ownerId);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function observeUser() {\n        return _observeUser.apply(this, arguments);\n      }\n\n      return observeUser;\n    }()\n  }]);\n\n  function ChatMessage(props) {\n    _classCallCheck(this, ChatMessage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ChatMessage).call(this, props));\n  }\n\n  _createClass(ChatMessage, [{\n    key: \"render\",\n    value: function render() {\n      var direction = props.isFromCurrentUser ? \"right\" : \"left\";\n      var _props = props,\n          isLastFromUser = _props.isLastFromUser,\n          isFirstFromUser = _props.isFirstFromUser;\n      var _this$props$message = this.props.message,\n          sentAt = _this$props$message.sentAt,\n          ownerId = _this$props$message.ownerId,\n          content = _this$props$message.content;\n      return jsx(Layout, {\n        isLastFromUser: isLastFromUser,\n        isFirstFromUser: isFirstFromUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, !props.noHeader && jsx(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, jsx(\"img\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }), jsx(Sender, {\n        direction: direction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, ownerId)), jsx(Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, jsx(Message, {\n        direction: direction,\n        hasNext: !isLastFromUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, jsx(Timestamp, {\n        direction: direction,\n        ts: sentAt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }), jsx(\"div\", {\n        css: css(_templateObject()),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, content))));\n    }\n  }]);\n\n  return ChatMessage;\n}(React.Component);\n\nexport { ChatMessage as default };\nvar Layout = styled.div(_templateObject2(), function (props) {\n  return props.isFirstFromUser ? \"6px\" : \"1px\";\n}, function (props) {\n  return props.isLastFromUser ? \"6px\" : \"1px\";\n});\nvar Header = styled.div(_templateObject3());\nvar Content = styled.div(_templateObject4());\nvar Sender = styled.p(_templateObject5(), function (props) {\n  return props.direction === \"left\" ? \"0px\" : \"auto\";\n}, function (props) {\n  return props.direction === \"right\" ? \"0px\" : \"auto\";\n});\nvar Message = styled.div(_templateObject6(), function (props) {\n  return props.direction == \"left\" ? \"lightgrey\" : \"lightblue\";\n}, function (props) {\n  return props.direction == \"left\" ? \"0px\" : \"auto\";\n}, function (props) {\n  return props.direction == \"right\" ? \"0px\" : \"auto\";\n}, function (props) {\n  return props.direction === \"left\" ? \"0px\" : \"12px\";\n}, function (props) {\n  return props.direction === \"right\" ? \"0px\" : \"12px\";\n}, function (props) {\n  return props.direction === \"left\" ? props.hasNext && \"0px\" : \"12px\";\n}, function (props) {\n  return props.direction === \"right\" ? props.hasNext && \"0px\" : \"12px\";\n});\n\nvar Timestamp = function Timestamp(props) {\n  var direction = props.direction;\n  var date = Date(props.ts);\n\n  var MessageDate = function MessageDate(props) {\n    var formatted = format(date, \"MM/DD/YYYY\");\n    var dateStyle = css(_templateObject7());\n    return jsx(\"span\", {\n      css: dateStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, formatted);\n  };\n\n  var MessageTime = function MessageTime(props) {\n    var formatted = format(date, \"HH:MM:SS A\");\n    var timeStyle = css(_templateObject8());\n    return jsx(\"span\", {\n      css: timeStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, formatted);\n  };\n\n  return jsx(\"div\", {\n    css: css(_templateObject9()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, jsx(\"div\", {\n    css: css(_templateObject10(), direction === \"left\" ? \"0px\" : \"auto\", direction === \"right\" ? \"0px\" : \"auto\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, jsx(MessageDate, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), \"@\", jsx(MessageTime, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })));\n};","map":{"version":3,"sources":["/Users/jasonflax/Development/ChatApp/src/components/ChatMessage.js"],"names":["React","useRef","useState","useEffect","css","jsx","styled","format","usersObserver","ChatMessage","sync","ownerId","props","direction","isFromCurrentUser","isLastFromUser","isFirstFromUser","message","sentAt","content","noHeader","Component","Layout","div","Header","Content","Sender","p","Message","hasNext","Timestamp","date","Date","ts","MessageDate","formatted","dateStyle","MessageTime","timeStyle"],"mappings":"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","sourcesContent":["/** @jsx jsx */\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { css, jsx } from \"@emotion/core\";\nimport styled from \"@emotion/styled\";\nimport format from \"date-fns/format\";\nimport { usersObserver } from \"../models\";\n\nexport default class ChatMessage extends React.Component {\n  async observeUser() {\n    await usersObserver.sync(ownerId);\n  }\n\n  constructor(props) {\n    super(props);\n    \n  }\n\n  render() {\n    const direction = props.isFromCurrentUser ? \"right\" : \"left\";\n    const { isLastFromUser, isFirstFromUser } = props;\n    const { sentAt, ownerId, content } = this.props.message;\n    return (\n      <Layout isLastFromUser={isLastFromUser} isFirstFromUser={isFirstFromUser}>\n        {!props.noHeader && (\n          <Header>\n            <img />\n            <Sender direction={direction}>{ownerId}</Sender>\n          </Header>\n        )}\n        <Content>\n          <Message direction={direction} hasNext={!isLastFromUser}>\n            <Timestamp direction={direction} ts={sentAt} />\n            <div\n              css={css`\n                white-space: pre-wrap;\n              `}\n            >\n              {content}\n            </div>\n          </Message>\n        </Content>\n      </Layout>\n    );\n  }\n}\nconst Layout = styled.div`\n  margin: 6px 12px;\n  margin-top: ${props => (props.isFirstFromUser ? \"6px\" : \"1px\")};\n  margin-bottom: ${props => (props.isLastFromUser ? \"6px\" : \"1px\")};\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n`;\nconst Header = styled.div`\n  height: 50px;\n  display: flex;\n`;\nconst Content = styled.div`\n  height: 100%;\n  display: flex;\n`;\nconst Sender = styled.p`\n  display: inline-block;\n  margin-right: 10px;\n  font-size: 12px;\n  margin-left: ${props => (props.direction === \"left\" ? \"0px\" : \"auto\")};\n  margin-right: ${props => (props.direction === \"right\" ? \"0px\" : \"auto\")};\n`;\nconst Message = styled.div`\n  display: inline-block;\n  background-color: ${props =>\n    props.direction == \"left\" ? \"lightgrey\" : \"lightblue\"};\n  border-radius: 12px;\n  margin-left: ${props => (props.direction == \"left\" ? \"0px\" : \"auto\")};\n  margin-right: ${props => (props.direction == \"right\" ? \"0px\" : \"auto\")};\n  border-top-left-radius: ${props =>\n    props.direction === \"left\" ? \"0px\" : \"12px\"};\n  border-top-right-radius: ${props =>\n    props.direction === \"right\" ? \"0px\" : \"12px\"};\n  border-bottom-left-radius: ${props =>\n    props.direction === \"left\" ? props.hasNext && \"0px\" : \"12px\"};\n  border-bottom-right-radius: ${props =>\n    props.direction === \"right\" ? props.hasNext && \"0px\" : \"12px\"};\n  padding: 10px;\n`;\nconst Timestamp = props => {\n  const direction = props.direction;\n  const date = Date(props.ts);\n  const MessageDate = props => {\n    const formatted = format(date, \"MM/DD/YYYY\");\n    const dateStyle = css``;\n    return <span css={dateStyle}>{formatted}</span>;\n  };\n  const MessageTime = props => {\n    const formatted = format(date, \"HH:MM:SS A\");\n    const timeStyle = css``;\n    return <span css={timeStyle}>{formatted}</span>;\n  };\n  return (\n    <div\n      css={css`\n        display: flex;\n        flex-direction: row;\n      `}\n    >\n      <div\n        css={css`\n          margin-left: ${direction === \"left\" ? \"0px\" : \"auto\"};\n          margin-right: ${direction === \"right\" ? \"0px\" : \"auto\"};\n          font-size: 12px;\n          font-style: italic;\n          padding-bottom: 4px;\n        `}\n      >\n        <MessageDate />@<MessageTime />\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}